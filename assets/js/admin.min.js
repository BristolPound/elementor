!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,b,c){"use strict";var d={cacheElements:function(){this.cache={$body:a("body"),$switchMode:a("#wroter-switch-mode"),$goToEditLink:a("#wroter-go-to-edit-page-link"),$switchModeInput:a("#wroter-switch-mode-input"),$switchModeButton:a("#wroter-switch-mode-button"),$wroterLoader:a(".wroter-loader"),$builderEditor:a("#wroter-editor")}},toggleStatus:function(){var a="builder"===this.getEditMode();this.cache.$body.toggleClass("wroter-editor-active",a).toggleClass("wroter-editor-inactive",!a)},bindEvents:function(){var d=this;d.cache.$switchModeButton.on("click",function(e){if(e.preventDefault(),"builder"===d.getEditMode())d.cache.$switchModeInput.val("editor");else{d.cache.$switchModeInput.val("builder");var f=a("#title");f.val()||f.val("Wroter #"+a("#post_ID").val()),wp.autosave.server.triggerSave(),d.animateLoader(),a(c).on("heartbeat-tick.autosave",function(){a(b).off("beforeunload.edit-post"),b.location=d.cache.$goToEditLink.attr("href")})}d.toggleStatus()}),d.cache.$goToEditLink.on("click",function(){d.animateLoader()}),a("div.notice.wroter-message-dismissed").on("click","button.notice-dismiss",function(b){b.preventDefault(),a.post(ajaxurl,{action:"wroter_set_admin_notice_viewed",notice_id:a(this).closest(".wroter-message-dismissed").data("notice_id")})}),a("#wroter-library-sync-button").on("click",function(b){b.preventDefault();var c=a(this);c.removeClass("success").addClass("loading"),a.post(ajaxurl,{action:"wroter_reset_library",_nonce:c.data("nonce")}).done(function(){c.removeClass("loading").addClass("success")})})},init:function(){this.cacheElements(),this.bindEvents(),this.initTemplatesImport()},initTemplatesImport:function(){if(this.cache.$body.hasClass("post-type-wroter_library")){var b=this,c=b.cache.$importButton=a("#wroter-import-template-trigger"),d=b.cache.$importArea=a("#wroter-import-template-area");b.cache.$formAnchor=a("h1"),a("#wpbody-content").find(".page-title-action").after(c),b.cache.$formAnchor.after(b.cache.$importArea),c.on("click",function(){d.toggle()})}},getEditMode:function(){return this.cache.$switchModeInput.val()},animateLoader:function(){this.cache.$goToEditLink.addClass("wroter-animate")}};a(function(){d.init()})}(jQuery,window,document)},{}]},{},[1]);